<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Book Reviews</title>
    <link rel="stylesheet" href="/styles.css">
</head>
<body>
    <h1>My Book Reviews</h1>
    <form action="/add-book" method="POST">
        <input type="text" name="title" placeholder="Book Title", required/>
        <input type="text" name="author" placeholder="Auther" required/>
        <input type="number" name="rating" placeholder="Rating(1-5)" min="1" max="5"/>
        <textarea name="review" placeholder="Your Review"></textarea>
        <input type="date" name="date_read" placeholder="Date Read"/>
        <button class="button" type="submit">Add Book</button>
    </form>

    <h2>Books</h2>
    <ul>
        <% books.forEach(book => { %>
            <li>
                <img src="<%= book.cover_url %>" alt="Book Cover" width="100" />
                <h3><%= book.title %> by <%= book.author %></h3>
                <p>Rating: <%= book.rating %>/5</p>
                <P><%= book.review %></P>
                <p>Date Read: <%= book.date_read %></p>      
                
                <form action="/edit-book/<%= book.id %>" method="GET">
                    <button class="button" type="submit">Edit</button>
                </form>

                <form action="/delete-book/<%= book.id %>" method="POST">
                    <button class="button" type="submit" onclick="return confirm('Are you sure you want to delete this book')">Delete</button>
                </form>
                
            </li>
        <% }); %>
    </ul>
</body>
</html>